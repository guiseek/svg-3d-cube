var Se=Object.defineProperty;var xe=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>(xe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();class ne{constructor(t,n){this.x=t,this.y=n,this.x=typeof t=="number"?t:0,this.y=typeof n=="number"?n:0}}class w extends ne{constructor(t,n,o){super(t,n),this.x=t,this.y=n,this.z=o,this.z=typeof o=="number"?o:0}}class Ee{constructor({x:t,y:n,z:o},i){Y(this,"vertices");Y(this,"faces");this.size=i;const r=i/2;this.vertices=[new w(t-r,n-r,o+r),new w(t-r,n-r,o-r),new w(t+r,n-r,o-r),new w(t+r,n-r,o+r),new w(t+r,n+r,o+r),new w(t+r,n+r,o-r),new w(t-r,n+r,o-r),new w(t-r,n+r,o+r)];const[u,c,a,s,f,d,l,v]=this.vertices;this.faces=[[u,c,a,s],[s,a,d,f],[f,d,l,v],[v,l,c,u],[v,u,s,f],[c,l,d,a]]}render(t,n,o){t.innerHTML="",this.faces.forEach(i=>{const r=B(i[0]);let u=`<path d="M${r.x+n} ${-r.y+o}`;i.map(B).forEach(c=>{u+=` L ${c.x+n} ${-c.y+o}`}),u+=' Z" fill="rgba(2, 255, 12, 0.4)" stroke-width="3" stroke-linecap="round" stroke="rgba(0, 0, 0, .2)">',t.innerHTML+=u})}}const B=({x:e,z:t})=>new ne(e,t);function Pe(e,t=document.body){return t.querySelector(e)}const R=(e,t,n,o)=>{const i=Math.cos(n),r=Math.sin(n),u=Math.cos(o),c=Math.sin(o),a=e.x-t.x,s=e.y-t.y,f=e.z-t.z;e.x=i*a-r*u*s+r*c*f+t.x,e.y=r*a+i*u*s-i*c*f+t.y,e.z=c*s+u*f+t.z},F=e=>(e.preventDefault(),{x:e.clientX,y:e.clientY}),q=e=>(e.preventDefault(),{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var D=function(e,t){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},D(e,t)};function V(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");D(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Te(e,t,n,o){function i(r){return r instanceof n?r:new n(function(u){u(r)})}return new(n||(n=Promise))(function(r,u){function c(f){try{s(o.next(f))}catch(d){u(d)}}function a(f){try{s(o.throw(f))}catch(d){u(d)}}function s(f){f.done?r(f.value):i(f.value).then(c,a)}s((o=o.apply(e,t||[])).next())})}function re(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,i,r,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(s){return function(f){return a([s,f])}}function a(s){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(r=s[0]&2?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[s[0]&2,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){n.label=s[1];break}if(s[0]===6&&n.label<r[1]){n.label=r[1],r=s;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(s);break}r[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(f){s=[6,f],i=0}finally{o=r=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function A(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),i,r=[],u;try{for(;(t===void 0||t-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}return r}function O(e,t,n){if(n||arguments.length===2)for(var o=0,i=t.length,r;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function Ie(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,r=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(l){o[l]&&(i[l]=function(v){return new Promise(function(b,y){r.push([l,v,b,y])>1||c(l,v)})})}function c(l,v){try{a(o[l](v))}catch(b){d(r[0][3],b)}}function a(l){l.value instanceof P?Promise.resolve(l.value.v).then(s,f):d(r[0][2],l)}function s(l){c("next",l)}function f(l){c("throw",l)}function d(l,v){l(v),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Ae(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof A=="function"?A(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=e[r]&&function(u){return new Promise(function(c,a){u=e[r](u),i(c,a,u.done,u.value)})}}function i(r,u,c,a){Promise.resolve(a).then(function(s){r({value:s,done:c})},u)}}function h(e){return typeof e=="function"}function Oe(e){var t=function(o){Error.call(o),o.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var C=Oe(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(o,i){return i+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function z(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var J=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,o,i,r;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=A(u),a=c.next();!a.done;a=c.next()){var s=a.value;s.remove(this)}}catch(y){t={error:y}}finally{try{a&&!a.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(h(f))try{f()}catch(y){r=y instanceof C?y.errors:[y]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var l=A(d),v=l.next();!v.done;v=l.next()){var b=v.value;try{N(b)}catch(y){r=r!=null?r:[],y instanceof C?r=O(O([],T(r)),T(y.errors)):r.push(y)}}}catch(y){o={error:y}}finally{try{v&&!v.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}}if(r)throw new C(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)N(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&z(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&z(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();J.EMPTY;function oe(e){return e instanceof J||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function N(e){h(e)?e():e.unsubscribe()}var ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},H={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=H.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,O([e,t],T(n))):setTimeout.apply(void 0,O([e,t],T(n)))},clearTimeout:function(e){var t=H.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ue(e){H.setTimeout(function(){throw e})}function $(){}function Le(e){e()}var K=function(e){V(t,e);function t(n){var o=e.call(this)||this;return o.isStopped=!1,n?(o.destination=n,oe(n)&&n.add(o)):o.destination=Ye,o}return t.create=function(n,o,i){return new G(n,o,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(J),Me=Function.prototype.bind;function X(e,t){return Me.call(e,t)}var ke=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(o){U(o)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(o){U(o)}else U(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){U(n)}},e}(),G=function(e){V(t,e);function t(n,o,i){var r=e.call(this)||this,u;if(h(n)||!n)u={next:n!=null?n:void 0,error:o!=null?o:void 0,complete:i!=null?i:void 0};else{var c;r&&ie.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=function(){return r.unsubscribe()},u={next:n.next&&X(n.next,c),error:n.error&&X(n.error,c),complete:n.complete&&X(n.complete,c)}):u=n}return r.destination=new ke(u),r}return t}(K);function U(e){ue(e)}function _e(e){throw e}var Ye={closed:!0,next:$,error:_e,complete:$},Q=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ce(e){return e}function Ue(e){return e.length===0?ce:e.length===1?e[0]:function(n){return e.reduce(function(o,i){return i(o)},n)}}var m=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,o){var i=this,r=Fe(t)?t:new G(t,n,o);return Le(function(){var u=i,c=u.operator,a=u.source;r.add(c?c.call(r,a):a?i._subscribe(r):i._trySubscribe(r))}),r},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var o=this;return n=ee(n),new n(function(i,r){var u=new G({next:function(c){try{t(c)}catch(a){r(a),u.unsubscribe()}},error:r,complete:i});o.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Q]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ue(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ee(t),new t(function(o,i){var r;n.subscribe(function(u){return r=u},function(u){return i(u)},function(){return o(r)})})},e.create=function(t){return new e(t)},e}();function ee(e){var t;return(t=e!=null?e:ie.Promise)!==null&&t!==void 0?t:Promise}function Re(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}function Fe(e){return e&&e instanceof K||Re(e)&&oe(e)}function qe(e){return h(e==null?void 0:e.lift)}function k(e){return function(t){if(qe(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(e,t,n,o,i){return new Ce(e,t,n,o,i)}var Ce=function(e){V(t,e);function t(n,o,i,r,u,c){var a=e.call(this,n)||this;return a.onFinalize=u,a.shouldUnsubscribe=c,a._next=o?function(s){try{o(s)}catch(f){n.error(f)}}:e.prototype._next,a._error=r?function(s){try{r(s)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,a}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(K),Xe=new m(function(e){return e.complete()});function je(e){return e&&h(e.schedule)}function se(e){return e[e.length-1]}function De(e){return je(se(e))?e.pop():void 0}function He(e,t){return typeof se(e)=="number"?e.pop():t}var Z=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ae(e){return h(e==null?void 0:e.then)}function fe(e){return h(e[Q])}function le(e){return Symbol.asyncIterator&&h(e==null?void 0:e[Symbol.asyncIterator])}function he(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var de=$e();function ve(e){return h(e==null?void 0:e[de])}function ye(e){return Ie(this,arguments,function(){var n,o,i,r;return re(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,P(n.read())];case 3:return o=u.sent(),i=o.value,r=o.done,r?[4,P(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,P(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function pe(e){return h(e==null?void 0:e.getReader)}function E(e){if(e instanceof m)return e;if(e!=null){if(fe(e))return Ge(e);if(Z(e))return Ve(e);if(ae(e))return Je(e);if(le(e))return me(e);if(ve(e))return Ke(e);if(pe(e))return Qe(e)}throw he(e)}function Ge(e){return new m(function(t){var n=e[Q]();if(h(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ve(e){return new m(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Je(e){return new m(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,ue)})}function Ke(e){return new m(function(t){var n,o;try{for(var i=A(e),r=i.next();!r.done;r=i.next()){var u=r.value;if(t.next(u),t.closed)return}}catch(c){n={error:c}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}t.complete()})}function me(e){return new m(function(t){Ze(e,t).catch(function(n){return t.error(n)})})}function Qe(e){return me(ye(e))}function Ze(e,t){var n,o,i,r;return Te(this,void 0,void 0,function(){var u,c;return re(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=Ae(e),a.label=1;case 1:return[4,n.next()];case 2:if(o=a.sent(),!!o.done)return[3,4];if(u=o.value,t.next(u),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),i={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),o&&!o.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function x(e,t,n,o,i){o===void 0&&(o=0),i===void 0&&(i=!1);var r=t.schedule(function(){n(),i?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(r),!i)return r}function be(e,t){return t===void 0&&(t=0),k(function(n,o){n.subscribe(L(o,function(i){return x(o,e,function(){return o.next(i)},t)},function(){return x(o,e,function(){return o.complete()},t)},function(i){return x(o,e,function(){return o.error(i)},t)}))})}function we(e,t){return t===void 0&&(t=0),k(function(n,o){o.add(e.schedule(function(){return n.subscribe(o)},t))})}function We(e,t){return E(e).pipe(we(t),be(t))}function Be(e,t){return E(e).pipe(we(t),be(t))}function ze(e,t){return new m(function(n){var o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function Ne(e,t){return new m(function(n){var o;return x(n,t,function(){o=e[de](),x(n,t,function(){var i,r,u;try{i=o.next(),r=i.value,u=i.done}catch(c){n.error(c);return}u?n.complete():n.next(r)},0,!0)}),function(){return h(o==null?void 0:o.return)&&o.return()}})}function ge(e,t){if(!e)throw new Error("Iterable cannot be null");return new m(function(n){x(n,t,function(){var o=e[Symbol.asyncIterator]();x(n,t,function(){o.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function et(e,t){return ge(ye(e),t)}function tt(e,t){if(e!=null){if(fe(e))return We(e,t);if(Z(e))return ze(e,t);if(ae(e))return Be(e,t);if(le(e))return ge(e,t);if(ve(e))return Ne(e,t);if(pe(e))return et(e,t)}throw he(e)}function nt(e,t){return t?tt(e,t):E(e)}function g(e,t){return k(function(n,o){var i=0;n.subscribe(L(o,function(r){o.next(e.call(t,r,i++))}))})}var rt=Array.isArray;function ot(e,t){return rt(t)?e.apply(void 0,O([],T(t))):e(t)}function it(e){return g(function(t){return ot(e,t)})}function ut(e,t,n,o,i,r,u,c){var a=[],s=0,f=0,d=!1,l=function(){d&&!a.length&&!s&&t.complete()},v=function(y){return s<o?b(y):a.push(y)},b=function(y){r&&t.next(y),s++;var W=!1;E(n(y,f++)).subscribe(L(t,function(I){i==null||i(I),r?v(I):t.next(I)},function(){W=!0},void 0,function(){if(W)try{s--;for(var I=function(){var _=a.shift();u?x(t,u,function(){return b(_)}):b(_)};a.length&&s<o;)I();l()}catch(_){t.error(_)}}))};return e.subscribe(L(t,v,function(){d=!0,l()})),function(){c==null||c()}}function M(e,t,n){return n===void 0&&(n=1/0),h(t)?M(function(o,i){return g(function(r,u){return t(o,r,i,u)})(E(e(o,i)))},n):(typeof t=="number"&&(n=t),k(function(o,i){return ut(o,i,e,n)}))}function ct(e){return e===void 0&&(e=1/0),M(ce,e)}var st=["addListener","removeListener"],at=["addEventListener","removeEventListener"],ft=["on","off"];function S(e,t,n,o){if(h(n)&&(o=n,n=void 0),o)return S(e,t,n).pipe(it(o));var i=T(dt(e)?at.map(function(c){return function(a){return e[c](t,a,n)}}):lt(e)?st.map(te(e,t)):ht(e)?ft.map(te(e,t)):[],2),r=i[0],u=i[1];if(!r&&Z(e))return M(function(c){return S(c,t,n)})(E(e));if(!r)throw new TypeError("Invalid event target");return new m(function(c){var a=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return c.next(1<s.length?s:s[0])};return r(a),function(){return u(a)}})}function te(e,t){return function(n){return function(o){return e[n](t,o)}}}function lt(e){return h(e.addListener)&&h(e.removeListener)}function ht(e){return h(e.on)&&h(e.off)}function dt(e){return h(e.addEventListener)&&h(e.removeEventListener)}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=De(e),o=He(e,1/0),i=e;return i.length?i.length===1?E(i[0]):ct(o)(nt(i,n)):Xe}function vt(e,t){return h(t)?M(e,t,1):M(e,1)}function yt(e){return k(function(t,n){E(e).subscribe(L(n,function(){return n.complete()},$)),!n.closed&&t.subscribe(n)})}function pt(e){const t={downs:S(e,"mousedown"),moves:S(e,"mousemove"),ups:S(e,"mouseup")},n={starts:S(e,"touchstart"),moves:S(e,"touchmove"),ends:S(e,"touchend")},o=j(t.downs.pipe(g(F)),n.starts.pipe(g(q))),i=j(t.moves.pipe(g(F)),n.moves.pipe(g(q))),r=j(t.ups.pipe(g(F)),n.ends.pipe(g(q)));return{starts:o,moves:i,ends:r}}class mt{constructor(t){Y(this,"events");this.element=t,this.events=pt(t)}execute(){return this.events.starts.pipe(vt(t=>this.events.moves.pipe(yt(this.events.ends),g(n=>{const o=n.x-t.x,i=n.y-t.y;return{x:o,y:i}}))))}}const p=Pe("svg");onload=()=>{if(p){new mt(p).execute().subscribe(console.log);const t=p.width.baseVal.value/2,n=p.height.baseVal.value/2,o=new w(0,n,0),i=new Ee(o,n),r={down:!1,x:0,y:0},u=()=>{for(let c=0,a=8;c<a;c++)R(i.vertices[c],o,Math.PI/466,Math.PI/666);i.render(p,t,n),r.down||requestAnimationFrame(u)};i.render(p,t,n),p.onmousedown=c=>{r.down=!0,r.x=c.clientX,r.y=c.clientY},p.ontouchmove=c=>{if(r.down){const a=(c.touches[0].clientX-r.x)*Math.PI/360,s=(c.touches[0].clientY-r.y)*Math.PI/180;for(let f=0,d=8;f<d;f++)R(i.vertices[f],o,a,s);r.x=c.touches[0].clientX,r.y=c.touches[0].clientY,i.render(p,t,n)}},p.onmousemove=c=>{if(r.down){const a=(c.clientX-r.x)*Math.PI/360,s=(c.clientY-r.y)*Math.PI/180;for(let f=0,d=8;f<d;f++)R(i.vertices[f],o,a,s);r.x=c.clientX,r.y=c.clientY,i.render(p,t,n)}},p.onmouseup=()=>{setTimeout(()=>{r.down=!1,requestAnimationFrame(u)},200)},requestAnimationFrame(u)}};
